<!DOCTYPE HTML>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="viewport" content="initial-scale=1"/>

    <title>${content.mdast.title}</title>

    <style>html { background: #323232; }</style>
    <link href="/design.css" rel="stylesheet" type="text/css"/>
    <link rel="stylesheet" href="/sequencechannel-embed.css" type="text/css">
  </head>
  <body class="cq-Screens-channel cq-Screens-channel--sequence aem-Layout aem-Layout--1x1">
    <div class="par sequence parsys aem-LayoutCell--1-1">
      <div class="cq-Sequence" data-duration="3000" data-strategy="normal" data-sly-list.group="${content.mdast.children}">
          <!--/*
            Direct referenced assets
          */-->
          <sly data-sly-test="${group.type == 'list'}" data-sly-list="${group.children}">
            <!--/*
              Markdown Image
            */-->
            <sly data-sly-test="${item.children[0].children && item.children[0].children[0].type == 'image'}">
              <div class="image parbase cq-Screens-image cq-Sequence-item">
                <div style="background-image: url('${item.children[0].children[0].url}'); background-size: cover;"></div>
              </div>
              <div class="parbase cq-Screens-transition cq-Sequence-transition">
                <div class="transition" data-transition="fade" data-transition-duration="600"></div>
              </div>
            </sly>
            <!--/*
              HTML Image
            */-->
            <sly data-sly-test="${item.children[0].type == 'image'}">
              <div class="image parbase cq-Screens-image cq-Sequence-item">
                <div style="background-image: url('${item.children[0].url}'); background-size: cover;"></div>
              </div>
              <div class="parbase cq-Screens-transition cq-Sequence-transition">
                <div class="transition" data-transition="fade" data-transition-duration="600"></div>
              </div>
            </sly>
            <!--/*
              HTML Video
            */-->
            <sly data-sly-test="${item.children[0].children && item.children[0].children[0].type == 'html' && item.children[0].children[0].types[0] == 'is-video'}">
              <div class="video parbase cq-Screens-video cq-Sequence-item" data-duration="-1">
                <div class="cq-Screens-video-rendering-contain">
                  <video id="video-${groupList.index}-${itemList.index}" src="${item.children[0].children[0].url}"></video>
                </div>
              </div>
              <div class="parbase cq-Screens-transition cq-Sequence-transition">
                <div class="transition" data-transition="fade" data-transition-duration="600"></div>
              </div>
            </sly>
            <!--/*
              Embedded channel
            */-->
            <sly data-sly-test="${item.children[0].children && item.children[0].children[0].type == 'embed'}">
              ${content.document.body.children[groupList.index].children[itemList.index].children[0]}
            </sly>
          </sly>
          <!--/*
            Embedded channel
          */-->
          <sly data-sly-test="${group.type == 'paragraph' && group.children.length == 1 && group.children[0].type == 'embed'}">
            ${content.document.body.children[groupList.index].children[0]}
          </sly>
      </div>
    </div>
    <script type="text/javascript" src="/sequencechannel-embed.js"></script>
    
  </body>
</html>
